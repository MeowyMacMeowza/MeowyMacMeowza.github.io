import{T as _}from"./nav.a7637ad2.js";import{I as b}from"./imagecaption.0034c228.js";import{W as f}from"./WishHistory.99e4ddfc.js";import{a as g}from"./amber-sad.b59289c6.js";import{v as y,s as v}from"./sucrose-noted.2e9710ac.js";import{h as w}from"./hutao-teehee.f60ddafe.js";import{W as x}from"./aether-shookt.245e02f8.js";import{b as N,f as r,k as c,g as e,t as h,h as d,j as n,F as S,r as u,o as l}from"./vendor.3cbabd63.js";import{_ as W}from"./plugin-vue_export-helper.3b9b12da.js";import"./index.1076bc26.js";const I="http://34.125.77.175:4000/api/banner/";class k{getBannerInfo(t){var o=new URL(I+"get");return o.searchParams.append("bnr_id",t),N.get(o)}}var B=new k;const T={data(){return{user:"",wishes:[],bnrs:[{name:"Standard",id:2,alias:"standard",event:!1},{name:"Novice",id:1,alias:"novice",event:!1},{name:"Event Character",id:3,alias:"character",event:!0},{name:"Event Weapon",id:4,alias:"weapon",event:!0}],bnr_info:"",curr_bnr:"",amberSad:g,isLoaded:!1,ventiWow:y,sucroseNoted:v,hutaoTeehee:w}},created(){this.loggedIn?this.user=JSON.parse(JSON.stringify(this.$store.state.auth.user)):this.$router.push("/"),this.$route.params.banner_name||this.$router.push("/");var i=this.bnrs.filter(t=>t.alias==this.$route.params.banner_name);i.length==0&&this.$router.push("/"),this.curr_bnr=i[0],x.getWishes({user_id:this.user.user_id,bnr_id:this.curr_bnr.id}).then(t=>{this.wishes=t.data.wishes.reverse();let o={};for(const s of this.wishes)o[s.uid]||(o[s.uid]={4:0,5:0,first4:!0,first5:!0}),o[s.uid][4]++,o[s.uid][5]++,s.rarity!=3&&(s.pity=o[s.uid][s.rarity],s.isFirst=o[s.uid]["first"+s.rarity],o[s.uid]["first"+s.rarity]=!1,o[s.uid][s.rarity]=0);this.wishes.reverse(),B.getBannerInfo(this.curr_bnr.id).then(s=>{this.bnr_info=s.data,document.title=this.curr_bnr.name+" Banner",this.isLoaded=!0},s=>{console.log(s.response&&s.response.data&&s.response.data.message||s.message||s.toString())}).catch(s=>{console.log(s.response&&s.response.data&&s.response.data.message||s.message||s.toString())})},t=>{console.log(t.response&&t.response.data&&t.response.data.message||t.message||t.toString())}).catch(t=>{console.log(t.response&&t.response.data&&t.response.data.message||t.message||t.toString())})},computed:{loggedIn(){return this.user=JSON.parse(JSON.stringify(this.$store.state.auth.user)),this.$store.state.auth.status.loggedIn}},components:{TopNav:_,ImgCaption:b,WishHistory:f}},C={key:0,class:"position-relative container-xxl mt-5 px-0 bd-layout shadow-lg rounded-top profile-bg"},L={class:"d-flex flex-column darken-bg rounded-top py-4 px-5 stylised-secondary fs-3"},$={class:"display-4 my-5 ms-5"},F={key:1,class:"d-flex flex-column container-xxl px-5 pe-5 bd-layout bg-light shadow-lg rounded-bottom content-body"},H={key:0,class:"fs-4 stylised mt-4 text-center"},J=["src"],O=e("hr",null,null,-1),V=e("div",{class:"fs-2 text-center stylised mt-3"},[n(" Your Wish History "),e("button",{class:"btn btn-sm material-icons mx-0 px-0 py-0 primary-text","data-bs-target":"#wishInfo","data-bs-toggle":"modal"}," help_outline ")],-1),E={class:"tab-pane fade show active mb-5",id:"all",role:"tabpanel","aria-labelledby":"pills-all-tab"},R=e("div",{class:"mt-auto"},null,-1),j=e("p",{class:"mt-3 mb-5 smol-text"}," \xA9 G neshni shni \xA9 ",-1),P={class:"modal fade",id:"wishInfo","aria-hidden":"true","aria-labelledby":"Wish Information",tabindex:"-1",role:"dialog"},U={class:"modal-dialog modal-lg"},A={class:"modal-content"},D=e("div",{class:"modal-header stylised-black fs-3"},[e("span",{class:"mx-auto"}," Wish Information"),e("button",{type:"button",class:"position-absolute end-0 top-0 btn-close mx-3 my-3","data-bs-dismiss":"modal","aria-label":"Close"})],-1),G={class:"modal-body"},M=e("h4",null,"What are those... things below?",-1),Y={class:"fs-5"},q=e("br",null,null,-1),z=n(" Clicking on the pulls will bring you to the respective weapon/character page. "),K=e("br",null,null,-1),Q=n(" For every four/five star, their pity will also be shown together with the pull information. "),X=e("br",null,null,-1),Z=e("br",null,null,-1),ss=e("b",null,[n(" Note: The earliest pulls found will have a "),e("span",{class:"text-danger"},"red asterisk (*)"),n(" beside the pity number because that pity count may be inaccurate due to the erosion of wish history. ")],-1),es=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary btn-lg","data-bs-dismiss":"modal"},"Close")],-1);function ts(i,t,o,s,a,os){const m=u("TopNav"),p=u("WishHistory");return l(),r(S,null,[c(m),a.isLoaded?(l(),r("div",C,[e("div",L,[e("h1",$,h(a.curr_bnr.name)+" Wishes ",1)])])):d("",!0),a.isLoaded?(l(),r("div",F,[this.curr_bnr.event?(l(),r("div",H," Most Recent Banner ")):d("",!0),e("img",{class:"me-3 border-info mb-3 align-self-center mt-4",style:{"object-fit":"contain"},width:"900",src:a.bnr_info.img_url},null,8,J),O,V,e("div",E,[c(p,{bnr:a.curr_bnr,wishes:a.wishes},null,8,["bnr","wishes"])]),R,j])):d("",!0),e("div",P,[e("div",U,[e("div",A,[D,e("div",G,[M,e("p",Y,[n(" That's your wish history for the "+h(a.curr_bnr.name)+" banner! ",1),q,z,K,Q,X,Z,ss])]),es])])])],64)}var ps=W(T,[["render",ts]]);export{ps as default};
