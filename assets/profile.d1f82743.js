import{T as L}from"./nav.a7637ad2.js";import{I as S}from"./imagecaption.0034c228.js";import{a as G,W as B,b as O}from"./aether-shookt.245e02f8.js";import{r as p,o as l,f as r,g as e,w as h,B as g,F as y,p as A,m as I,k as f,l as x,j as i,t as u,n as V,h as m,i as v,v as W,x as R,A as E}from"./vendor.3cbabd63.js";import{s as P,v as F}from"./sucrose-noted.2e9710ac.js";import{_ as k}from"./plugin-vue_export-helper.3b9b12da.js";import{h as N}from"./hutao-teehee.f60ddafe.js";import{a as T}from"./amber-sad.b59289c6.js";import{U as w}from"./user_service.7e84cddd.js";import"./index.1076bc26.js";const M={data(){return{rarity:[],type:[],wishes:[],bnr_id:[],loading:!1,isLoaded:!1,sucroseNoted:P,aetherShookt:G}},props:["user"],mounted(){B.getWishes({user_id:this.user.user_id}).then(s=>{this.wishes=s.data.wishes.reverse();let t={};for(const o of this.wishes)t[o.uid]||(t[o.uid]={1:{4:0,5:0,first4:!0,first5:!0},2:{4:0,5:0,first4:!0,first5:!0},3:{4:0,5:0,first4:!0,first5:!0},4:{4:0,5:0,first4:!0,first5:!0}}),t[o.uid][o.bnr_id][4]++,t[o.uid][o.bnr_id][5]++,o.rarity!=3&&(o.pity=t[o.uid][o.bnr_id][o.rarity],o.isFirst=t[o.uid][o.bnr_id]["first"+o.rarity],t[o.uid][o.bnr_id]["first"+o.rarity]=!1,t[o.uid][o.bnr_id][o.rarity]=0);this.wishes.reverse(),this.isLoaded=!0})},computed:{filteredWishes(){var s=JSON.parse(JSON.stringify(this.wishes));return this.rarity.length!=0&&(s=s.filter(t=>this.rarity.includes(t.rarity))),this.type.length!=0&&(s=s.filter(t=>this.type.includes(t.type))),this.bnr_id.length!=0&&(s=s.filter(t=>this.bnr_id.includes(t.bnr_id))),s}},methods:{},components:{WishItem:O,ImgCaption:S}},j={key:0,class:"d-flex flex-column w-100"},Y={class:"d-flex mt-3 align-items-center"},z=e("p",{class:"fs-2 text-wrap lead grow-3 justified text-center"},[e("b",{class:"stylised"},[i(" Wishes "),e("button",{class:"btn btn-sm material-icons mx-0 px-0 py-0 primary-text","data-bs-target":"#wishInfo","data-bs-toggle":"modal"}," help_outline ")])],-1),H=["disabled"],J={class:"collapse mb-3 border border-3 px-3 pt-3 pb-2 rounded-2 align-self-end",id:"filter"},q=e("p",{class:"fs-5 me-auto stylised-black"},"Filter Options",-1),K={class:"row mb-2"},Q={class:"d-flex align-items-center col-6"},X=e("span",{class:"mb-2 mx-1"},"Rarity:",-1),Z={class:"btn-group mb-2 mx-1",role:"group","aria-label":"Rarity"},ee=e("label",{class:"btn btn-outline-primary",for:"threeStar"},"3 \u2606",-1),se=e("label",{class:"btn btn-outline-primary",for:"fourStar"},"4 \u2606",-1),te=e("label",{class:"btn btn-outline-primary",for:"fiveStar"},"5 \u2606",-1),ae={class:"d-flex align-items-center col-6"},oe=e("span",{class:"mb-2 mx-1"},"Type:",-1),ie={class:"btn-group mb-2 mx-1",role:"group","aria-label":"Type"},le=e("label",{class:"btn btn-outline-primary",for:"wep"},"Weapon",-1),ne=e("label",{class:"btn btn-outline-primary",for:"char"},"Character",-1),re={class:"row"},de={class:"d-flex align-items-center col-12"},ce=e("span",{class:"mb-2 mx-1"},"Banners:",-1),ue={class:"btn-group mb-2 mx-1",role:"group","aria-label":"Banners"},me=e("label",{class:"btn btn-outline-primary",for:"permanentBnr"},"Standard",-1),he=e("label",{class:"btn btn-outline-primary",for:"noviceBnr"},"Novice",-1),pe=e("label",{class:"btn btn-outline-primary",for:"eventChar"},"Event Character",-1),_e=e("label",{class:"btn btn-outline-primary",for:"eventWep"},"Event Weapon",-1),be={key:0,class:"list-group list-group-flush med-search mt-3 mb-3",id:"result-list"},ge={key:1,class:"d-flex mt-5"},fe=e("i",{class:"fs-5"},"There are no wishes!?",-1),ye={key:1,class:"d-flex mt-5"},ve=e("i",{class:"fs-5"},"Loading wishes...",-1),xe=e("div",{class:"modal fade",id:"wishInfo","aria-hidden":"true","aria-labelledby":"Wish Information",tabindex:"-1",role:"dialog"},[e("div",{class:"modal-dialog modal-lg"},[e("div",{class:"modal-content"},[e("div",{class:"modal-header stylised-black fs-3"},[e("span",{class:"mx-auto"}," Wish Information"),e("button",{type:"button",class:"position-absolute end-0 top-0 btn-close mx-3 my-3","data-bs-dismiss":"modal","aria-label":"Close"})]),e("div",{class:"modal-body"},[e("h4",null,"What are those... things below?"),e("p",{class:"fs-5"},[i(" Those are this user's wish history together with their pulls! "),e("br"),i(" Clicking on the pulls will bring you to the respective weapon/character page. "),e("br"),i(" For every four/five star, their pity will also be shown together with the pull information. "),e("br"),e("b",null,[i(" Note: The earliest pulls found will have a "),e("span",{class:"text-danger"},"red asterisk (*)"),i(" beside the pity number because that pity count may be inaccurate due to the erosion of wish history. ")]),e("br"),e("br"),i(" If you want to look at game account specific wishes, head over to the "),e("code",null,"Game Account(s)"),i(" pages itself! ")])]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary btn-lg","data-bs-dismiss":"modal"},"Close")])])])],-1);function we(s,t,o,_,a,d){const b=p("WishItem"),n=p("ImgCaption");return l(),r(y,null,[a.isLoaded?(l(),r("div",j,[e("div",Y,[z,e("a",{class:"btn btn-primary ms-auto","data-bs-toggle":"collapse",href:"#filter",role:"button","aria-expanded":"false","aria-controls":"collapseExample",disabled:a.loading}," Filter ",8,H)]),e("div",J,[q,e("div",K,[e("div",Q,[X,e("div",Z,[h(e("input",{type:"checkbox",class:"btn-check",id:"threeStar","onUpdate:modelValue":t[0]||(t[0]=c=>a.rarity=c),value:3,autocomplete:"off"},null,512),[[g,a.rarity]]),ee,h(e("input",{type:"checkbox",class:"btn-check",id:"fourStar","onUpdate:modelValue":t[1]||(t[1]=c=>a.rarity=c),value:4,autocomplete:"off"},null,512),[[g,a.rarity]]),se,h(e("input",{type:"checkbox",class:"btn-check",id:"fiveStar","onUpdate:modelValue":t[2]||(t[2]=c=>a.rarity=c),value:5,autocomplete:"off"},null,512),[[g,a.rarity]]),te])]),e("div",ae,[oe,e("div",ie,[h(e("input",{type:"checkbox",class:"btn-check",id:"wep","onUpdate:modelValue":t[3]||(t[3]=c=>a.type=c),value:"W",autocomplete:"off"},null,512),[[g,a.type]]),le,h(e("input",{type:"checkbox",class:"btn-check",id:"char","onUpdate:modelValue":t[4]||(t[4]=c=>a.type=c),value:"C",autocomplete:"off"},null,512),[[g,a.type]]),ne])])]),e("div",re,[e("div",de,[ce,e("div",ue,[h(e("input",{type:"checkbox",class:"btn-check",id:"permanentBnr","onUpdate:modelValue":t[5]||(t[5]=c=>a.bnr_id=c),value:2,autocomplete:"off"},null,512),[[g,a.bnr_id]]),me,h(e("input",{type:"checkbox",class:"btn-check",id:"noviceBnr","onUpdate:modelValue":t[6]||(t[6]=c=>a.bnr_id=c),value:1,autocomplete:"off"},null,512),[[g,a.bnr_id]]),he,h(e("input",{type:"checkbox",class:"btn-check",id:"eventChar","onUpdate:modelValue":t[7]||(t[7]=c=>a.bnr_id=c),value:3,autocomplete:"off"},null,512),[[g,a.bnr_id]]),pe,h(e("input",{type:"checkbox",class:"btn-check",id:"eventWep","onUpdate:modelValue":t[8]||(t[8]=c=>a.bnr_id=c),value:4,autocomplete:"off"},null,512),[[g,a.bnr_id]]),_e])])])]),d.filteredWishes.length>0?(l(),r("div",be,[(l(!0),r(y,null,A(d.filteredWishes,c=>(l(),I(b,{class:"nav-item list-group-item",wish:c},null,8,["wish"]))),256))])):(l(),r("div",ge,[f(n,{imgSrc:a.aetherShookt},{default:x(()=>[fe]),_:1},8,["imgSrc"])]))])):(l(),r("div",ye,[f(n,{imgSrc:a.sucroseNoted},{default:x(()=>[ve]),_:1},8,["imgSrc"])])),xe],64)}var ke=k(M,[["render",we]]);const Se={data(){return{region:{cn_gf01:"China",cn_gf01:"China",cn_qd01:"China",os_asia:"Asia",os_usa:"America",os_euro:"Europe",os_cht:"TW,HK,MO"},banners:{1:"Novice Banner",2:"Standard Banner",3:"Event Character Banner",4:"Event Weapon Banner"}}},computed:{last_synced(){var s=new Date(this.game_acc.last_synced);return s.toLocaleString()}},props:["game_acc"]},Ae={class:"d-flex flex-column w-100 stylised-black"},Ce={class:"d-flex"},Ie={class:"d-flex flex-column"},Pe={class:"mb-1"},We={class:"mb-3"},Ge={class:"mt-auto mb-1 text-muted"},$e={id:"carouselBannerInfo",class:"carousel carousel-dark carousel-fade grow-1 mx-5","data-bs-ride":"carousel"},Ne={class:"carousel-inner"},Te={class:"fs-5"},Ue={class:"d-flex mt-3"},De={class:"grow-1"},Le={class:"fiveStar"},Be=e("br",null,null,-1),Oe={key:0,class:"fiveStar"},Ve={class:"grow-1"},Re={class:"fourStar"},Ee=e("br",null,null,-1),Fe={key:0,class:"fourStar"},Me=e("button",{class:"carousel-control-prev",type:"button","data-bs-target":"#carouselBannerInfo","data-bs-slide":"prev"},[e("span",{class:"carousel-control-prev-icon","aria-hidden":"true"}),e("span",{class:"visually-hidden"},"Previous")],-1),je=e("button",{class:"carousel-control-next",type:"button","data-bs-target":"#carouselBannerInfo","data-bs-slide":"next"},[e("span",{class:"carousel-control-next-icon","aria-hidden":"true"}),e("span",{class:"visually-hidden"},"Next")],-1),Ye={class:"ms-auto text-muted"};function ze(s,t,o,_,a,d){const b=p("router-link");return l(),I(b,{to:"/user/"+o.game_acc.user_id+"/"+o.game_acc.uid,class:"d-flex list-group-item list-group-item-action",target:"_blank",rel:"noopener noreferrer",style:{"z-index":"0"}},{default:x(()=>[e("div",Ae,[e("div",Ce,[e("div",Ie,[e("h3",Pe,u(o.game_acc.nickname),1),e("span",null,"Adventure Rank: "+u(o.game_acc.ar),1),e("span",We,"Region: "+u(a.region[o.game_acc.region]),1),e("small",Ge,"Last Synced: "+u(d.last_synced),1)]),e("div",$e,[e("div",Ne,[(l(!0),r(y,null,A(o.game_acc.bnr_info,n=>(l(),r("div",{class:V(["carousel-item mx-5 px-5",n.bnr_id==1?"active":""])},[e("span",Te,u(a.banners[n.bnr_id]),1),e("div",Ue,[e("div",De,[e("span",Le," 5\u2605 Pity: "+u(n.p_five_star),1),Be,typeof n.g_five_star!="undefined"?(l(),r("span",Oe," 5\u2605 Guarantee: "+u(n.g_five_star?"Yes":"No"),1)):m("",!0)]),e("div",Ve,[e("span",Re," 4\u2605 Pity: "+u(n.p_four_star),1),Ee,typeof n.g_four_star!="undefined"?(l(),r("span",Fe," 4\u2605 Guarantee: "+u(n.g_five_star?"Yes":"No"),1)):m("",!0)])])],2))),256))]),Me,je]),e("small",Ye," UID: "+u(o.game_acc.uid),1)])])]),_:1},8,["to"])}var He=k(Se,[["render",ze]]);const Je={data(){return{loading:!1,sucroseNoted:P,aetherShookt:G}},props:["user"],mounted(){},computed:{},methods:{},components:{GameAccount:He,ImgCaption:S}},qe={class:"d-flex flex-column w-100"},Ke=e("div",{class:"d-flex mt-3 align-items-center"},[e("p",{class:"fs-2 text-wrap lead grow-3 justified text-center"},[e("b",{class:"stylised"},[i(" Game Accounts "),e("button",{class:"btn btn-sm material-icons mx-0 px-0 py-0","data-bs-target":"#gameAccountInfo","data-bs-toggle":"modal"}," help_outline ")])])],-1),Qe={key:0,class:"list-group list-group-flush med-search mt-3 mb-3",id:"result-list",style:{border:"3px solid var(--primary-color-light) !important","border-radius":"0.8rem"}},Xe={key:1,class:"d-flex mt-5"},Ze=e("i",{class:"fs-5"},"There are no game accounts!?",-1),es=e("div",{class:"modal fade",id:"gameAccountInfo","aria-hidden":"true","aria-labelledby":"Wish Information",tabindex:"-1",role:"dialog"},[e("div",{class:"modal-dialog modal-lg"},[e("div",{class:"modal-content"},[e("div",{class:"modal-header stylised-black fs-3"},[e("span",{class:"mx-auto"}," Wish Information"),e("button",{type:"button",class:"position-absolute end-0 top-0 btn-close mx-3 my-3","data-bs-dismiss":"modal","aria-label":"Close"})]),e("div",{class:"modal-body"},[e("h4",null,"What are those... things below?"),e("p",{class:"fs-5"},[i(" Those are this user's game account(s) together with some miscellaneous information! "),e("br"),i(" Clicking on them will bring you to the respective game account pages. "),e("br"),i(" If you want to look at the wishes across the game accounts, head over to the "),e("code",null,"Wishes"),i(" pages itself! ")])]),e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary btn-lg","data-bs-dismiss":"modal"},"Close")])])])],-1);function ss(s,t,o,_,a,d){const b=p("GameAccount"),n=p("ImgCaption");return l(),r(y,null,[e("div",qe,[Ke,o.user.game_accounts.length>0?(l(),r("div",Qe,[(l(!0),r(y,null,A(o.user.game_accounts,c=>(l(),I(b,{class:"nav-item list-group-item",game_acc:c},null,8,["game_acc"]))),256))])):(l(),r("div",Xe,[f(n,{imgSrc:a.aetherShookt},{default:x(()=>[Ze]),_:1},8,["imgSrc"])]))]),es],64)}var ts=k(Je,[["render",ss]]);const as={data(){return{hutaoTeehee:N,amberSad:T,deleteConfirm:"",api_link:"",message:"",loading:!1,success:!1,game_acc:this.user.game_accounts.length>0?this.user.game_accounts[0]:"",new_game_acc:""}},props:["user"],methods:{addWishes(){this.message="";var s=new URL(this.api_link).searchParams;if(console.log(s.get("auth_key")),!s.get("authkey")||!s.get("game_biz")){this.message="Invalid Link!";return}this.loading="Importing Wishes",w.importWishes(this.api_link).then(t=>{this.success=t.message,this.loading=!1,(_=>new Promise(a=>setTimeout(a,_)))(3e3).then(_=>{this.success=!1,this.$router.go()})},t=>{if(this.loading=!1,t.response.status==418){this.new_game_acc=t.response.data.game_acc;let o=this.$refs.addGameAccModal;$(o).modal("show")}else this.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString()}).catch(t=>{this.loading=!1,this.message=t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})},deleteAccount(){this.loading="Deleting Account",this.$store.dispatch("auth/delete",{user_id:this.user.user_id,password:this.deleteConfirm}).then(()=>{this.$router.push("/")},s=>{this.loading=!1,this.message=s.response&&s.response.data&&s.response.data.message||s.message||s.toString(),console.log(s)}).catch(s=>{this.loading=!1,this.message=s.response&&s.response.data&&s.response.data.message||s.message||s.toString(),console.log(this.message)})},addGameAccount(){this.loading="Adding Game Account",w.addAccount(this.api_link).then(s=>{this.addWishes()},s=>{this.loading=!1,this.message=s.response&&s.response.data&&s.response.data.message||s.message||s.toString(),console.log(this.message)}).catch(s=>{this.loading=!1,this.message=s.response&&s.response.data&&s.response.data.message||s.message||s.toString(),console.log(this.message)})},deleteGameAccount(){this.loading="Deleting Game Account",w.deleteAccount(this.api_link).then(s=>{this.success="Deleted Game Account!",this.loading=!1,(o=>new Promise(_=>setTimeout(_,o)))(3e3).then(o=>{this.success=!1,this.$router.go()})},s=>{this.loading=!1,this.message=s.response&&s.response.data&&s.response.data.message||s.message||s.toString(),console.log(this.message)}).catch(s=>{this.loading=!1,this.message=s.response&&s.response.data&&s.response.data.message||s.message||s.toString(),console.log(this.message)})}},watch:{user(s){console.log(s.game_accounts),s.game_accounts.length>0&&(game_acc=s[0])}},components:{ImageCaption:S}},os={class:"d-flex flex-column w-100"},is={key:0,class:"alert alert-danger",role:"alert"},ls=e("div",{class:"d-flex mb-3"},[e("p",{class:"my-3 fs-2 text-wrap lead grow-3 justified text-center"},[e("b",{class:"stylised"}," Settings ")])],-1),ns={class:"card-body my-3 mx-3"},rs=e("label",{for:"api_url",class:"stylised fs-4 form-label"},"Import Wishes",-1),ds=["disabled"],cs=e("p",{class:"form-text mb-4"},[i("What is an "),e("a",{href:"#api-modal","data-bs-toggle":"modal",style:{"text-decoration":"none"}},"API link"),i("?")],-1),us=["disabled"],ms={key:1,class:"card mb-3"},hs={class:"card-body my-3 mx-3"},ps=e("label",{for:"del_ga",class:"stylised fs-4 form-label text-danger"},"Remove Game Account",-1),_s=["disabled"],bs=["value"],gs=e("p",{class:"form-text mt-2 mb-4 text-danger"},"If you delete your game account, you will not be able to get it back anymore! D:",-1),fs=["disabled"],ys=e("div",{class:"d-flex mb-3"},[e("p",{class:"my-3 fs-2 text-wrap lead grow-3 justified text-center"},[e("b",{class:"stylised"}," Unlife Your Account (Don't do it!) ")])],-1),vs={class:"card"},xs={class:"card-body my-3 mx-3"},ws=e("label",{for:"del_acc",class:"stylised fs-4 form-label text-danger"},"\u26A0\uFE0F Delete Your Account \u26A0\uFE0F",-1),ks=["disabled"],Ss=e("p",{class:"form-text mt-2 mb-4 text-danger"},[e("b",null,"Warning:"),i(" Once you delete your account, you will not be able to use Gneshni! D:")],-1),As=["disabled"],Cs={key:0,class:"card d-flex flex-column align-items-center py-3 px-4 position-fixed top-50 start-50 translate-middle",style:{"z-index":"1060"}},Is={class:"mb-3"},Ps=e("div",{class:"spinner-border text-primary",role:"status"},[e("span",{class:"visually-hidden"},"Loading...")],-1),Ws={key:1},Gs={class:"card d-flex flex-column align-items-center py-4 px-5 position-fixed top-50 start-50 translate-middle",style:{"z-index":"1060"}},$s=e("span",{class:"material-icons text-success",style:{"font-size":"3rem"}}," task_alt ",-1),Ns={class:""},Ts={key:2,class:"offcanvas-backdrop fade show"},Us={class:"modal fade",id:"api-modal","aria-hidden":"true","aria-labelledby":"API Link Instructions",tabindex:"-1",role:"dialog"},Ds={class:"modal-dialog modal-xl"},Ls={class:"modal-content"},Bs=e("div",{class:"modal-header stylised-black fs-3"},[e("span",{class:"mx-auto"}," Genshin Impact API Link"),e("button",{type:"button",class:"position-absolute end-0 top-0 btn-close mx-3 my-3","data-bs-dismiss":"modal","aria-label":"Close"})],-1),Os={class:"modal-body"},Vs=e("h4",null,"What is an API Link?",-1),Rs=e("p",{class:"fs-5 mb-4"},[i(" Genshin Impact stores your wishes on a public server. "),e("br"),i(" In order to access your wishes on said server, the game that created a temporary key if needed whenever you open the wish history. "),e("br"),i(" This temporary key is in the link we require from you for importing your wishes. "),e("br"),e("b",null,"It is perfectly safe to use the temporary key as it does not contain any sensitive information about your account and only lasts for 24h.")],-1),Es=e("ul",{class:"nav nav-tabs fs-5",role:"tablist"},[e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link active","aria-current":"page","data-bs-toggle":"tab","data-bs-target":"#pcImport",type:"button",role:"tab","aria-controls":"pc","aria-selected":"true"},"PC")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link","aria-current":"page","data-bs-toggle":"tab","data-bs-target":"#androidImport",type:"button",role:"tab","aria-controls":"android","aria-selected":"false"},"Android")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link","aria-current":"page","data-bs-toggle":"tab","data-bs-target":"#appleImport",type:"button",role:"tab","aria-controls":"apple","aria-selected":"false"},"iOS")]),e("li",{class:"nav-item",role:"presentation"},[e("a",{class:"nav-link","aria-current":"page","data-bs-toggle":"tab","data-bs-target":"#consoleImport",type:"button",role:"tab","aria-controls":"console","aria-selected":"false"},"Console")])],-1),Fs={class:"tab-content mt-4 mx-3",id:"tabContent"},Ms=e("div",{class:"tab-pane fade show active",id:"pcImport",role:"tabpanel","aria-labelledby":"pc-tab"},[e("h4",null,"For PC:"),e("ol",{class:"fs-5"},[e("li",null,"Open Genshin Impact in this PC and open the wish history in the game and wait it to load"),e("li",null,"Press START on your keyboard, then search for Powershell"),e("li",null,"Click Windows Powershell, then copy & paste the script below to the Powershell"),e("small",null,[e("code",{class:"fs-6 select-all break-all"}," iex ((New-Object System.Net.WebClient).DownloadString('https://gist.githubusercontent.com/MadeBaruna/1d75c1d37d19eca71591ec8a31178235/raw/41853f2b76dcb845cf8cb0c44174fb63459920f4/getlink_global.ps1')) "),e("br"),i(" The script can be viewed "),e("a",{href:"https://gist.github.com/MadeBaruna/1d75c1d37d19eca71591ec8a31178235",target:"_blank",rel:"noopener noreferrer"},"here"),i(". ")]),e("li",null,"Press ENTER, and an URL will copied to your clipboard"),e("li",null,"Paste the text here")])],-1),js=e("div",{class:"tab-pane fade",id:"androidImport",role:"tabpanel","aria-labelledby":"android-tab"},[e("h4",null,"For Android:"),e("ol",{class:"fs-5"},[e("li",null,"Open Genshin Impact and go to your ingame wish history page"),e("li",null,"Once the page loads, disable Genshin Impact's access to the internet (Turn off all Wi-Fi & data connection)"),e("li",null,"Press the refresh button in the top right corner of the wish history page"),e("li",null,"The page should become an error page that displays its URL"),e("li",null,"Copy the URL and paste it here")])],-1),Ys=e("div",{class:"tab-pane fade",id:"appleImport",role:"tabpanel","aria-labelledby":"apple-tab"},[e("h4",null,"For iOS:"),e("ol",{class:"fs-5"},[e("li",null,[i("Download "),e("a",{href:"https://apps.apple.com/app/stream/id1312141691",target:"_blank",rel:"noopener noreferrer"},"Stream"),i(" on App Store")]),e("li",null,"Open the app, then allow VPN in system preferences (Settings > General > VPN)"),e("li",null,"Tap Sniff Now on Stream App > Install CA > A pop up window will appear > Click on Allow"),e("li",null,"Go to Settings > General > VPN & Device management > Click on Stream Generated CA > Install"),e("li",null,"Open Genshin Impact then open the Wish screen and stay there"),e("li",null,"Go back to Stream App > Choose I've trusted > Tap Sniff Now"),e("li",null,"Go back to Genshin Impact and open the Wish history page"),e("li",null,"Once the page loads, go back to Stream App > Stop Sniffing"),e("li",null,"Click Sniff History > Choose a request that ends with .json (the link start with https://hk4e-api-os.mihoyo.com/)"),e("li",null,"Click Request tab, then copy the URL and paste it here")])],-1),zs={class:"tab-pane fade",id:"consoleImport",role:"tabpanel","aria-labelledby":"console-tab"},Hs={class:"d-flex"},Js=e("h4",null,"Console methods are currently unavailable! >.<",-1),qs=i(" However, you can link your PlayStation account with a miHoYo account then use any of the other methods. "),Ks=e("div",{class:"modal-footer"},[e("button",{type:"button",class:"btn btn-secondary btn-lg","data-bs-dismiss":"modal"},"Close")],-1),Qs={class:"modal fade",id:"delGA",tabindex:"-1","aria-labelledby":"delGameAccount","aria-hidden":"true"},Xs={class:"modal-dialog modal-lg"},Zs={class:"modal-content"},et=e("div",{class:"modal-header"},[e("h3",{class:"modal-title"},[e("b",null,"Hold up! Are you sure?")]),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),st={class:"modal-body mb-3 fs-5"},tt=i(" This deletion is an "),at=e("b",{class:"text-danger"},"irreversible",-1),ot=i(" action."),it=e("br",null,null,-1),lt=i(" You cannot retrieve the Game Account "),nt=i(" back after the deletion! "),rt={class:"modal-footer"},dt=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1),ct={class:"modal fade",id:"delAcc",tabindex:"-1","aria-labelledby":"delAccount","aria-hidden":"true"},ut={class:"modal-dialog modal-lg"},mt={class:"modal-content"},ht=E('<div class="modal-header"><h3 class="modal-title"><b>Hold up! Are you sure?</b></h3><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body mb-3 fs-5"> This deletion is an <b class="text-danger">irreversible</b> action.<br> Once you delete your Gneshni account, you will lose all your information <b>forever</b>! </div>',2),pt={class:"modal-footer"},_t=e("button",{type:"button",class:"btn btn-secondary","data-bs-dismiss":"modal"},"Cancel",-1),bt={class:"modal fade",ref:"addGameAccModal",tabindex:"-1","aria-labelledby":"addGameAccount","aria-hidden":"true"},gt={class:"modal-dialog modal-lg"},ft={class:"modal-content"},yt=e("div",{class:"modal-header"},[e("h3",{class:"modal-title"},[e("b",null,"New Game Account Detected!")]),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),vt={class:"modal-body mb-3 fs-5"},xt=i(" This game account "),wt=i(" has yet to be found in your account"),kt=e("br",null,null,-1),St=i(" Do you want to add this game account and import the wishes from this account? "),At={class:"modal-footer"},Ct=e("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal"},"No thanks!",-1);function It(s,t,o,_,a,d){const b=p("ImageCaption");return l(),r(y,null,[e("div",os,[a.message?(l(),r("div",is,u(a.message),1)):m("",!0),ls,e("form",{onSubmit:t[1]||(t[1]=v((...n)=>d.addWishes&&d.addWishes(...n),["prevent"])),class:"card mb-3"},[e("div",ns,[rs,h(e("input",{class:"form-control me-3 mt-2",type:"search",placeholder:"Enter your API link here","aria-label":"Api URL",id:"api_url","onUpdate:modelValue":t[0]||(t[0]=n=>a.api_link=n),disabled:a.loading},null,8,ds),[[W,a.api_link]]),cs,e("button",{class:"btn btn-secondary",type:"submit",id:"add_wishes",style:{"background-color":"var(--secondary-color-dark)","border-color":"var(--secondary-color-dark)"},disabled:a.loading},"Upload Wishes",8,us)])],32),o.user.game_accounts.length>0?(l(),r("div",ms,[e("div",hs,[ps,h(e("select",{class:"form-select me-3 mt-2",placeholder:"Type your password","aria-label":"Delete Account",id:"del_ga","onUpdate:modelValue":t[2]||(t[2]=n=>a.game_acc=n),disabled:a.loading},[(l(!0),r(y,null,A(o.user.game_accounts,n=>(l(),r("option",{value:n},u(n.nickname)+" ("+u(n.uid)+")",9,bs))),256))],8,_s),[[R,a.game_acc]]),gs,e("button",{class:"btn btn-danger",id:"del_acc_btn",disabled:a.loading,"data-bs-target":"#delGA","data-bs-toggle":"modal"},"Delete Game Account",8,fs)])])):m("",!0),ys,e("div",vs,[e("div",xs,[ws,h(e("input",{class:"form-control me-3 mt-2",type:"password",placeholder:"Type your password","aria-label":"Delete Account",id:"del_acc","onUpdate:modelValue":t[3]||(t[3]=n=>a.deleteConfirm=n),disabled:a.loading},null,8,ks),[[W,a.deleteConfirm]]),Ss,e("button",{class:"btn btn-danger",id:"del_acc_btn",disabled:a.loading,"data-bs-target":"#delAcc","data-bs-toggle":"modal"},"Delete Account",8,As)])])]),a.loading?(l(),r("div",Cs,[e("strong",Is,u(a.loading),1),Ps])):m("",!0),a.success?(l(),r("div",Ws,[e("div",Gs,[$s,e("strong",Ns,u(a.success),1)])])):m("",!0),a.loading||a.success?(l(),r("div",Ts)):m("",!0),e("div",Us,[e("div",Ds,[e("div",Ls,[Bs,e("div",Os,[Vs,Rs,Es,e("div",Fs,[Ms,js,Ys,e("div",zs,[e("div",Hs,[f(b,{imgSrc:a.amberSad},{default:x(()=>[Js,qs]),_:1},8,["imgSrc"])])])])]),Ks])])]),e("div",Qs,[e("div",Xs,[e("div",Zs,[et,e("div",st,[tt,at,ot,it,lt,e("code",null,[e("b",null,u(a.game_acc.nickname)+" (UID: "+u(a.game_acc.uid)+")",1)]),nt]),e("div",rt,[e("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:t[4]||(t[4]=v((...n)=>d.deleteGameAccount&&d.deleteGameAccount(...n),["prevent"]))},"Delete Anyways"),dt])])])]),e("div",ct,[e("div",ut,[e("div",mt,[ht,e("div",pt,[e("button",{type:"button",class:"btn btn-danger","data-bs-dismiss":"modal",onClick:t[5]||(t[5]=v((...n)=>d.deleteAccount&&d.deleteAccount(...n),["prevent"]))},"Delete Anyways"),_t])])])]),e("div",bt,[e("div",gt,[e("div",ft,[yt,e("div",vt,[xt,e("code",null,"(UID: "+u(a.new_game_acc.uid)+")",1),wt,kt,St]),e("div",At,[e("button",{type:"button",class:"btn btn-success","data-bs-dismiss":"modal",onClick:t[6]||(t[6]=v((...n)=>d.addGameAccount&&d.addGameAccount(...n),["prevent"]))},"Yes! Please do!"),Ct])])])],512)],64)}var Pt=k(as,[["render",It]]);const Wt={data(){return{user:"",curr_user:"",amberSad:T,isLoaded:!1,error:!1,ventiWow:F,sucroseNoted:P,hutaoTeehee:N}},created(){this.loggedIn?this.user=JSON.parse(JSON.stringify(this.$store.state.auth.user)):this.$route.params.user_id||this.$router.push("/"),this.$route.params.user_id?w.getUserProfile(this.$route.params.user_id).then(s=>{this.curr_user=s.data,this.curr_user.user_id=this.$route.params.user_id,console.log(this.curr_user),document.title=this.curr_user.username+"'s Profile",this.isLoaded=!0},s=>{console.log(s.response&&s.response.data&&s.response.data.message||s.message||s.toString()),this.error=!0}).catch(s=>{console.log(s.response&&s.response.data&&s.response.data.message||s.message||s.toString()),this.error=!0}):w.getUserProfile(this.user.user_id).then(s=>{this.curr_user=s.data,this.curr_user.user_id=this.user.user_id,console.log(this.curr_user),document.title=this.curr_user.username+"'s Profile",this.isLoaded=!0},s=>{console.log(s.response&&s.response.data&&s.response.data.message||s.message||s.toString()),this.error=!0}).catch(s=>{console.log(s.response&&s.response.data&&s.response.data.message||s.message||s.toString()),this.error=!0})},computed:{loggedIn(){return this.user=JSON.parse(JSON.stringify(this.$store.state.auth.user)),this.$store.state.auth.status.loggedIn},isUser(){return!this.$route.params.user_id||this.user&&this.$route.params.user_id==this.user.user_id}},methods:{shareProfile(){var s=window.location.origin+"/user/"+this.curr_user.user_id;navigator.clipboard.writeText(s),alert("Copied Profile URL to clipboard! ")},editProfile(){this.$router.push("/user/edit")}},components:{TopNav:L,ImgCaption:S,ProfileWish:ke,ProfileSetting:Pt,ProfileGameAccount:ts}},Gt={key:0,class:"position-relative container-xxl mt-5 px-0 bd-layout shadow-lg rounded-top profile-bg"},$t={class:"d-flex darken-bg rounded-top py-5 px-5"},Nt=["src"],Tt={class:"display-3 stylised outlined-text my-auto ms-5"},Ut={key:0},Dt=i("Welcome,"),Lt=e("br",null,null,-1),Bt=[Dt,Lt],Ot={key:1},Vt=e("span",{class:"material-icons align-bottom me-1"}," mode_edit ",-1),Rt=i(" Edit Profile "),Et=[Vt,Rt],Ft=e("span",{class:"material-icons align-bottom me-1"}," share ",-1),Mt=i(" Share "),jt=[Ft,Mt],Yt={key:1,class:"d-flex flex-column container-xxl px-5 pe-5 bd-layout bg-light shadow-lg rounded-bottom content-body"},zt={class:"nav nav-pills flex-column flex-sm-row mt-5 mb-4",id:"pills-tab",role:"tablist"},Ht=e("li",{class:"grow-1 flex-sm-fill nav-item mx-3",role:"presentation"},[e("a",{class:"text-sm-center nav-link active",id:"pills-profile-tab","data-bs-toggle":"pill","data-bs-target":"#wishes",type:"button",role:"tab","aria-controls":"pills-wishes","aria-selected":"true"},"Wishes")],-1),Jt=e("li",{class:"grow-1 flex-sm-fill nav-item me-3",role:"presentation"},[e("a",{class:"text-sm-center nav-link",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#gameAcc",type:"button",role:"tab","aria-controls":"pills-gameAcc","aria-selected":"false"},"Game Account(s)")],-1),qt={key:0,class:"grow-1 flex-sm-fill nav-item me-3",role:"presentation"},Kt=e("a",{class:"text-sm-center nav-link",id:"pills-home-tab","data-bs-toggle":"pill","data-bs-target":"#profile",type:"button",role:"tab","aria-controls":"pills-profile","aria-selected":"false"},"Profile Settings",-1),Qt=[Kt],Xt={class:"tab-content mb-auto",id:"pills-tabContent"},Zt={class:"tab-pane fade show active mb-5",id:"wishes",role:"tabpanel","aria-labelledby":"pills-wishes-tab"},ea={class:"tab-pane fade mb-5",id:"gameAcc",role:"tabpanel","aria-labelledby":"pills-gameAcc-tab"},sa={key:0,class:"tab-pane fade mb-5",id:"profile",role:"tabpanel","aria-labelledby":"pills-profile-tab"},ta=e("p",{class:"mt-3 mb-5 smol-text"}," \xA9 G neshni shni \xA9 ",-1),aa={key:2,class:"d-flex mt-5 py-5 bg-light shadow-lg w-50 mx-auto"},oa=e("h4",null,[i(" There was an error opening the page..."),e("br"),i(" Maybe the link is wrong? ")],-1);function ia(s,t,o,_,a,d){const b=p("TopNav"),n=p("ProfileWish"),c=p("ProfileGameAccount"),U=p("ProfileSetting"),D=p("ImgCaption");return l(),r(y,null,[f(b),a.isLoaded&&!a.error?(l(),r("div",Gt,[e("div",$t,[e("img",{class:"rounded-circle border border-4 my-auto mx-5",src:a.curr_user.pfp_url,width:"300",height:"300",id:"pfp"},null,8,Nt),e("h1",Tt,[d.isUser?(l(),r("span",Ut,Bt)):m("",!0),i(" "+u(a.curr_user.username),1),d.isUser?m("",!0):(l(),r("span",Ot,"'s Profile"))])]),d.isUser?(l(),r("button",{key:0,class:"position-absolute top-0 end-0 btn btn-secondary py-1 px-2 me-2 mt-2 stylised-black",onClick:t[0]||(t[0]=v((...C)=>d.editProfile&&d.editProfile(...C),["prevent"]))},Et)):m("",!0),this.$route.params.user_id?m("",!0):(l(),r("button",{key:1,class:"position-absolute bottom-0 end-0 btn btn-primary py-1 px-2 me-2 mb-2 stylised-black",onClick:t[1]||(t[1]=v((...C)=>d.shareProfile&&d.shareProfile(...C),["prevent"]))},jt))])):m("",!0),a.isLoaded&&!a.error?(l(),r("div",Yt,[e("ul",zt,[Ht,Jt,d.isUser?(l(),r("li",qt,Qt)):m("",!0)]),e("div",Xt,[e("div",Zt,[f(n,{user:a.curr_user},null,8,["user"])]),e("div",ea,[f(c,{user:a.curr_user},null,8,["user"])]),d.isUser?(l(),r("div",sa,[f(U,{user:a.curr_user},null,8,["user"])])):m("",!0)]),ta])):m("",!0),a.error?(l(),r("div",aa,[f(D,{imgSrc:a.amberSad},{default:x(()=>[oa]),_:1},8,["imgSrc"])])):m("",!0)],64)}var ba=k(Wt,[["render",ia]]);export{ba as default};
