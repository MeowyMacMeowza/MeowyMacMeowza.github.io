import{c as f,a as v,b as l,d as E,e as I}from"./vendor.3cbabd63.js";const P=function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))u(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&u(i)}).observe(document,{childList:!0,subtree:!0});function t(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerpolicy&&(n.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?n.credentials="include":o.crossorigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function u(o){if(o.ep)return;o.ep=!0;const n=t(o);fetch(o.href,n)}};P();const S="modulepreload",p={},O="/",s=function(r,t){return!t||t.length===0?r():Promise.all(t.map(u=>{if(u=`${O}${u}`,u in p)return;p[u]=!0;const o=u.endsWith(".css"),n=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${n}`))return;const i=document.createElement("link");if(i.rel=o?"stylesheet":S,o||(i.as="script",i.crossOrigin=""),i.href=u,document.head.appendChild(i),o)return new Promise((g,h)=>{i.addEventListener("load",g),i.addEventListener("error",h)})})).then(()=>r())},L=[{path:"/register",component:()=>s(()=>import("./signup.c63fb209.js"),["assets/signup.c63fb209.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/vendor.3cbabd63.js"])},{path:"/",component:()=>s(()=>import("./main.345f8732.js"),["assets/main.345f8732.js","assets/nav.2567da24.js","assets/vendor.3cbabd63.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/imagecaption.0034c228.js","assets/amber-sad.b59289c6.js","assets/sucrose-noted.2e9710ac.js","assets/hutao-teehee.f60ddafe.js"]),children:[{path:":useless",component:()=>s(()=>import("./main.345f8732.js"),["assets/main.345f8732.js","assets/nav.2567da24.js","assets/vendor.3cbabd63.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/imagecaption.0034c228.js","assets/amber-sad.b59289c6.js","assets/sucrose-noted.2e9710ac.js","assets/hutao-teehee.f60ddafe.js"])}]},{path:"/pullable",component:()=>s(()=>import("./pullable.1207bb60.js"),["assets/pullable.1207bb60.js","assets/nav.2567da24.js","assets/vendor.3cbabd63.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/amber-sad.b59289c6.js","assets/item_service.e79832af.js","assets/imagecaption.0034c228.js"])},{path:"/pullable/new",component:()=>s(()=>import("./additem.a1340e54.js"),["assets/additem.a1340e54.js","assets/nav.2567da24.js","assets/vendor.3cbabd63.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/amber-sad-image404.4efa4708.js","assets/imagecaption.0034c228.js","assets/item_service.e79832af.js"])},{path:"/pullable/:pullname",component:()=>s(()=>import("./item.ebecb4d9.js"),["assets/item.ebecb4d9.js","assets/nav.2567da24.js","assets/vendor.3cbabd63.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/hutao-teehee.f60ddafe.js","assets/amber-sad.b59289c6.js","assets/imagecaption.0034c228.js","assets/item_service.e79832af.js"])},{path:"/pullable/:pullname/edit",component:()=>s(()=>import("./edititem.422185ff.js"),["assets/edititem.422185ff.js","assets/nav.2567da24.js","assets/vendor.3cbabd63.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/amber-sad-image404.4efa4708.js","assets/imagecaption.0034c228.js","assets/item_service.e79832af.js"])},{path:"/event",component:()=>s(()=>import("./event.3678b32b.js"),["assets/event.3678b32b.js","assets/nav.2567da24.js","assets/vendor.3cbabd63.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/amber-sad.b59289c6.js","assets/imagecaption.0034c228.js","assets/event_service.e505bfe3.js"])},{path:"/event/new",component:()=>s(()=>import("./addevent.ab7c7198.js"),["assets/addevent.ab7c7198.js","assets/nav.2567da24.js","assets/vendor.3cbabd63.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/amber-sad-image404.4efa4708.js","assets/imagecaption.0034c228.js","assets/NewItemCard.216c7ed1.js","assets/item_service.e79832af.js","assets/event_service.e505bfe3.js"])},{path:"/event/:event_id/edit",component:()=>s(()=>import("./editevent.a4af9b87.js"),["assets/editevent.a4af9b87.js","assets/nav.2567da24.js","assets/vendor.3cbabd63.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/amber-sad-image404.4efa4708.js","assets/imagecaption.0034c228.js","assets/NewItemCard.216c7ed1.js","assets/item_service.e79832af.js","assets/event_service.e505bfe3.js"])},{path:"/user",component:()=>s(()=>import("./profile.074d79cd.js"),["assets/profile.074d79cd.js","assets/nav.2567da24.js","assets/vendor.3cbabd63.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/imagecaption.0034c228.js","assets/aether-shookt.30c6143f.js","assets/sucrose-noted.2e9710ac.js","assets/hutao-teehee.f60ddafe.js","assets/amber-sad.b59289c6.js","assets/user_service.bf8828c3.js"])},{path:"/user/edit",component:()=>s(()=>import("./editprofile.bff7b59f.js"),["assets/editprofile.bff7b59f.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/vendor.3cbabd63.js","assets/nav.2567da24.js"])},{path:"/user/:user_id",component:()=>s(()=>import("./profile.074d79cd.js"),["assets/profile.074d79cd.js","assets/nav.2567da24.js","assets/vendor.3cbabd63.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/imagecaption.0034c228.js","assets/aether-shookt.30c6143f.js","assets/sucrose-noted.2e9710ac.js","assets/hutao-teehee.f60ddafe.js","assets/amber-sad.b59289c6.js","assets/user_service.bf8828c3.js"])},{path:"/user/:user_id/:uid",component:()=>s(()=>import("./gameaccount.f7638e2d.js"),["assets/gameaccount.f7638e2d.js","assets/nav.2567da24.js","assets/vendor.3cbabd63.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/imagecaption.0034c228.js","assets/WishHistory.ecafd6ed.js","assets/aether-shookt.30c6143f.js","assets/sucrose-noted.2e9710ac.js","assets/amber-sad.b59289c6.js","assets/hutao-teehee.f60ddafe.js","assets/user_service.bf8828c3.js"])},{path:"/banner/:banner_name",component:()=>s(()=>import("./bannerpage.68b2db80.js"),["assets/bannerpage.68b2db80.js","assets/nav.2567da24.js","assets/vendor.3cbabd63.js","assets/plugin-vue_export-helper.3b9b12da.js","assets/imagecaption.0034c228.js","assets/WishHistory.ecafd6ed.js","assets/aether-shookt.30c6143f.js","assets/sucrose-noted.2e9710ac.js","assets/amber-sad.b59289c6.js","assets/hutao-teehee.f60ddafe.js"])}],A=new f({history:v(),linkActiveClass:"active",routes:L});function _(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{"x-access-token":e.accessToken}:{}}const c="http://34.125.77.175:4000/api/auth/";class R{login(r){return l.post(c+"signin",r).then(t=>(t.data.accessToken&&localStorage.setItem("user",JSON.stringify(t.data)),t.data))}logout(){localStorage.removeItem("user")}register(r){return l.post(c+"signup",{username:r.username,email:r.email,password:r.password,pfp:r.pfp_url})}editProfile(r){return l.post(c+"edit",r,{headers:_()}).then(t=>(localStorage.setItem("user",JSON.stringify(t.data)),console.log(t),t.data))}deleteUser(r){return l.post(c+"delete",{user_id:r.user_id,password:r.password},{headers:_()}).then(t=>{localStorage.removeItem("user")})}}var a=new R;const m=JSON.parse(localStorage.getItem("user")),T=m?{status:{loggedIn:!0},user:m}:{status:{loggedIn:!1},user:null},y={namespaced:!0,state:T,actions:{login({commit:e},r){return a.login(r).then(t=>(e("loginSuccess",t),Promise.resolve(t)),t=>(e("loginFailure"),Promise.reject(t)))},logout({commit:e}){a.logout(),e("logout")},register({commit:e},r){return a.register(r).then(t=>(e("registerSuccess"),Promise.resolve(t.data)),t=>(e("registerFailure"),Promise.reject(t)))},edit({commit:e},r){return a.editProfile(r).then(t=>(e("editSuccess"),Promise.resolve(t.data)),t=>(e("editFailure"),Promise.reject(t)))},delete({commit:e},r){return a.deleteUser(r).then(t=>(e("deleteSuccess"),Promise.resolve(t)),t=>(e("deleteFailure"),Promise.reject(t)))}},mutations:{loginSuccess(e,r){e.status.loggedIn=!0,e.user=r},loginFailure(e){e.status.loggedIn=!1,e.user=null},logout(e){e.status.loggedIn=!1,e.user=null},registerSuccess(e){e.status.loggedIn=!1},registerFailure(e){e.status.loggedIn=!1},editSuccess(e){e.user=JSON.parse(localStorage.getItem("user"))},editFailure(e){e.status.loggedIn=!0},deleteSuccess(e){e.status.loggedIn=!1,e.user=null},deleteFailure(e){e.status.loggedIn=!0}}},D=E({modules:{auth:y}}),d=I({});d.use(A);d.use(D);d.mount("#app");export{_ as a};
